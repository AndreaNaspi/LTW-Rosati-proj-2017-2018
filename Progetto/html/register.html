<html>
<head>
	<META charset="UTF-8" name="register">
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<script src="../js/JQuery/jquery-3.2.1.min.js" type="text/javascript" async></script>	
	<script type="text/javascript" src="../js/initUser.js" async></script>
	<script src="../js/checkLogin.js" type="text/javascript" async></script>
	<script src="../js/searchFunction.js" type="text/javascript" charset="utf-8" async></script>		
	<title>Registrati a TecHWiki</title>
	<!-- updateLoginStatus aggiorna le informazioni sull'utente loggato, initRandomPage (a fine pagine html) setta l'azione del button "Pagina random" e initSearchField permette di inizializzare la ricerca tramite autocomplete -->
	<!-- la funzione register, eseguita onsubmit della form, esegue i vari check per vedere se la registrazione è valida e, in caso, aggiorna il localStorage -->
</head>
<body onload="updateLoginStatus(); initRandomPage(); initSearchField();">
	<div class="header">
		<a href="index.html"><img src="../assets/logo.png"></img></a>
		<p id="techwiki">TecHWiki</p>
	</div>
	<div class="page">
		<div class="pageRow">
			<div class="pageColumn" id="darkLeft">
				<div class="vertical-menu">
					<a href="index.html">Home</a>
					<a href="profile.html" id="profile" style="display: none">Profilo</a>
					<a href="contribute.html" id="contribute" style="display: none">Contribuisci a TecHWiki</a>
					<a href="#" id="random">Pagina random</a>
					<a href="about.html">About</a>
				</div>
			</div>
			<div class="pageColumn" id="text">
				<form onsubmit="return register();" method="get">
					<table align="center" width="33%">
					<caption><h1 align="center">Registrati</h1></caption>
						<tr>
							<td>Username: </td>
							<td><input id="username" type="text" name="username" autocomplete="off" placeholder="l'username voluto" size="50%" required></td>
						</tr>
						<tr>
							<td>Password: </td>
							<td><input id="password" type="password" name="pawword" autocomplete="off" placeholder="password (min 8 caratteri)" minlength="8" size="50%" required></td>
						</tr>
						<tr>
							<td>Email: </td>
							<td><input id="email" type="email" name="email" autocomplete="off" placeholder="la tua mail" size="50%" required></td>
						</tr>
						<tr>
							<td colspan="2" align="center"><input type="submit" name="submit" value="Registrati"></td>
						</tr>
					</table>
				</form>
				<p align="center">Hai già un account? Fai il <a href="login.html" title="Login" style="text-decoration: none;">Login</a>!</p>
				<h1>Perchè registrarsi?</h1>
				<ul>
					<li style="margin-bottom: 5px;">Possibilità di ricordare le proprie pagine preferite tramite la funzione di like.</li>
					<li style="margin-bottom: 5px;">Possibilità di contribuire al sito proponendo nuovi articoli.</li>
				</ul>
			</div>
			<div class="pageColumn" id="darkRight">
				<div class="dropdown">
  					<div class="dropbtn" id="accountName">Account</div>
  					<div class="dropdown-content">
    					<a href="login.html" class="button" id="login" value="Effettua il login" style="text-decoration: none;">Login</a>
						<a href="register.html" class="button" id="register" value="Registrati" style="text-decoration: none;">Registrati</a>
					</div>
				</div>
				<div class="search"><input id="search" autocomplete="off" type="text" name="search" placeholder="Cerca..."></div>
			</div>
		</div>
	</div>
	<script>
		function initRandomPage()
		{
			var pages = JSON.parse(localStorage.pages);
			var random = pages[Math.floor(Math.random()*pages.length)];
			document.getElementById("random").href = "articolo.html?id="+"'"+random.id+"'";	
		}
	</script>
</body>
</html>